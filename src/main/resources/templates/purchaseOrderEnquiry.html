<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Layui</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="../static/layui/css/layui.css" media="all">
    <script src="../static/layui/jquery-3.4.1.min.js"></script>
    <!-- <script src="../static/layui/jquery-form.js"></script>-->
    <script src="../static/layui/layui.js" charset="utf-8"></script>
    <!--监督管理  按采购单查询-->
</head>
<body>
<div class="layui-container">
    <div class="layui-row">
        <form class="layui-form" action="">
            <table class="layui-table" lay-size="sm" id="TestAll">
                <thead>
                <tr class="layui-row">
                    <td><h2 align="center" style="font-weight: bold;">采购单查询</h2></td>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>
                        <div class="layui-inline">
                            <label class="layui-form-label">采购单编号：</label>
                            <div class="layui-input-inline">
                                <input type="tel" name="purchaseOrderNumber" lay-verify=""
                                       autocomplete="off" class="layui-input">
                            </div>
                        </div>
                    </td>
                    <td>
                        <div class="layui-inline">
                            <label class="layui-form-label">采购单名称：</label>
                            <div class="layui-input-inline">
                                <input type="text" name="nameOfPurchaseOrder" lay-verify="" autocomplete="off"
                                       class="layui-input">
                            </div>
                        </div>
                    </td>
                    <td>
                        <div class="layui-inline">
                            <label class="layui-form-label">采购医院：</label>
                            <div class="layui-input-inline">
                                <input type="text" name="nameOfHospital" lay-verify="" autocomplete="off"
                                       class="layui-input">
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="layui-inline">
                            <label class="layui-form-label">采购状态：</label>
                            <div class="layui-input-inline">
                                <select name="purchaseOrderStatus" lay-verify="" lay-search="">
                                    <option value="">全部</option>
                                    <option value="1">未确认送货</option>
                                    <option value="2">已发货</option>
                                    <option value="4">已入库</option>
                                    <option value="5">无法供货</option>
                                    <option value="6">到期未送货</option>
                                </select>
                            </div>
                        </div>
                    </td>
                    <td>
                        <div class="layui-inline">
                            <label class="layui-form-label">单位：</label>
                            <div class="layui-input-inline">
                                <input type="text" name="company"  lay-verify="" autocomplete="off"
                                       class="layui-input">
                            </div>
                        </div>
                    </td>
                    <td>
                        <div class="layui-inline">
                            <label class="layui-form-label">供货商：</label>
                            <div class="layui-input-inline">
                                <input type="tel" name="nameOfEnterprise" lay-verify=""
                                       autocomplete="off" class="layui-input">
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="layui-inline">
                            <label class="layui-form-label">药品流水号：</label>
                            <div class="layui-input-inline">
                                <input type="tel" name="serialUmber" lay-verify=""
                                       autocomplete="off" class="layui-input">
                            </div>
                        </div>
                    </td>
                    <td>
                        <div class="layui-inline">
                            <label class="layui-form-label">通用名：</label>
                            <div class="layui-input-inline">
                                <input type="text" name="dosageForm" lay-verify="" autocomplete="off"
                                       class="layui-input">
                            </div>
                        </div>
                    </td>
                    <td>
                        <div class="layui-inline">
                            <label class="layui-form-label">剂型：</label>
                            <div class="layui-input-inline">
                                <input type="text" name="dosageFormDrug" lay-verify="" autocomplete="off"
                                       class="layui-input">
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="layui-inline">
                            <label class="layui-form-label">规格：</label>
                            <div class="layui-input-inline">
                                <input type="tel" name="specifications"  lay-verify=""
                                       autocomplete="off"
                                       class="layui-input">
                            </div>
                        </div>
                    </td>
                    <td>
                        <div class="layui-inline">
                            <label class="layui-form-label">转换系数：</label>
                            <div class="layui-input-inline">
                                <input type="text" name="conversionCoefficientNo"
                                       lay-verify=""
                                       autocomplete="off" class="layui-input">
                            </div>
                        </div>
                    </td>
                    <td>
                        <div class="layui-inline">
                            <label class="layui-form-label">生产企业：</label>
                            <div class="layui-input-inline">
                                <input type="tel" name="nameOfManufacturer"
                                       lay-verify=""
                                       autocomplete="off" class="layui-input">
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="layui-inline">
                            <label class="layui-form-label">药品类别：</label>
                            <div class="layui-input-inline">
                                <select name="drugCategory" lay-verify="" lay-search="">
                                    <option value="">请选择</option>
                                    <option value="1">layer</option>
                                    <option value="2">form</option>
                                    <option value="3">layim</option>
                                </select>
                            </div>
                        </div>
                    </td>
                    <td>
                        <div class="layui-inline">
                            <label class="layui-form-label">商品名：</label>
                            <div class="layui-input-inline">
                                <input type="text" name="tradeName" lay-verify="tradeName"
                                       autocomplete="off"
                                       class="layui-input">
                            </div>
                        </div>
                    </td>
                    <td align="center">
                        <button type="button" class="layui-btn layui-btn-sm" lay-submit lay-filter="formDemo" id="find">
                            查询
                        </button>
                    </td>
                </tr>
                </tbody>
            </table>
        </form>
    </div>
</div>
<!--<div class="layui-container">
    <div class="layui-row">
        <form class="layui-form" action="">
            <table class="layui-table" lay-size="sm" id="TestAll" lay-type="TestAll">
                <thead>
                <tr class="layui-row">
                    <td><h2 align="center" style="font-weight: bold;">采购单查询</h2></td>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>
                        <div class="layui-inline">
                            <label class="layui-form-label">采购单编号</label>
                            <div class="layui-input-inline">
                                <input type="text" name="purchaseOrderNumber"  lay-verify=""
                                       autocomplete="off" class="layui-input">
                            </div>
                        </div>
                    </td>
                    <td>
                        <div class="layui-inline">
                            <label class="layui-form-label">采购单名称</label>
                            <div class="layui-input-inline">
                                <input type="text" name="nameOfPurchaseOrder" id="nameOfPurchaseOrder" lay-verify=""
                                       autocomplete="off" class="layui-input">
                            </div>
                        </div>

                    </td>
                    <td>
                        <div class="layui-inline">
                            <label class="layui-form-label">采购医院</label>
                            <div class="layui-input-inline">
                                <input type="text" name="nameOfHospital" id="nameOfHospital" lay-verify=""
                                       autocomplete="off" class="layui-input">
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="layui-inline">
                            <label class="layui-form-label">采购状态：</label>
                            <div class="layui-input-inline">
                                <select name="purchaseOrderStatus" id="purchaseOrderStatus" lay-verify="" lay-search="">
                                    <option value="">全部</option>
                                    <option value="1">未确认送货</option>
                                    <option value="2">已发货</option>
                                    <option value="4">已入库</option>
                                    <option value="5">无法供货</option>
                                    <option value="6">到期未送货</option>
                                </select>
                            </div>
                        </div>
                    </td>
                    <td>
                        <div class="layui-inline">
                            <label class="layui-form-label">单位：</label>
                            <div class="layui-input-inline">
                                <input type="text" name="company" id="company" lay-verify="" autocomplete="off"
                                       class="layui-input">
                            </div>
                        </div>
                    </td>
                    <td>
                        <div class="layui-inline">
                            <label class="layui-form-label">供货商：</label>
                            <div class="layui-input-inline">
                                <select name="supplierId" id="supplierId" lay-verify="supplierId" lay-search="">
                                    <option value="">全部</option>
                                    <option value="1">layer</option>
                                    <option value="2">form</option>
                                    <option value="3">layim</option>
                                </select>
                            </div>
                        </div>
                    </td>
                    &lt;!&ndash;<td>
                        <div class="layui-inline">
                            <label class="layui-form-label">统计时间：</label>
                            <div class="layui-input">
                                <input style="width: 20%;margin-top:3%" type="text" name="email" lay-verify=""
                                       autocomplete="off" class="layui-input-inline" id="time01">
                                <span>至</span>
                                <input style="width: 20%;margin-top:3%" type="text" name="email" lay-verify=""
                                       autocomplete="off" class="layui-input-inline" id="time02">
                            </div>
                        </div>
                    </td>&ndash;&gt;
                </tr>
                <tr>
                    <td>
                        <div class="layui-inline">
                            <label class="layui-form-label">药品流水号：</label>
                            <div class="layui-input-inline">
                                <input type="tel" name="serialUmber" lay-verify="serialUmber" autocomplete="off"
                                       class="layui-input">
                            </div>
                        </div>
                    </td>
                    <td>
                        <div class="layui-inline">
                            <label class="layui-form-label">通用名：</label>
                            <div class="layui-input-inline">
                                <input type="text" name="dosageForm" id="dosageForm" lay-verify="dosageForm"
                                       autocomplete="off"
                                       class="layui-input">
                            </div>
                        </div>
                    </td>
                    <td>
                        <div class="layui-inline">
                            <label class="layui-form-label">剂型：</label>
                            <div class="layui-input-inline">
                                <input type="text" name="dosageFormDrug" id="dosageFormDrug" lay-verify="dosageFormDrug"
                                       autocomplete="off"
                                       class="layui-input">
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="layui-inline">
                            <label class="layui-form-label">规格：</label>
                            <div class="layui-input-inline">
                                <input type="tel" name="specifications" id="specifications" lay-verify="specifications"
                                       autocomplete="off"
                                       class="layui-input">
                            </div>
                        </div>
                    </td>
                    <td>
                        <div class="layui-inline">
                            <label class="layui-form-label">单位：</label>
                            <div class="layui-input-inline">
                                <input type="text" name="company" lay-verify="company" autocomplete="off"
                                       class="layui-input">
                            </div>
                        </div>
                    </td>
                    <td>
                        <div class="layui-inline">
                            <label class="layui-form-label">转换系数：</label>
                            <div class="layui-input-inline">
                                <input type="text" name="conversionCoefficientNo" id="conversionCoefficientNo"
                                       lay-verify="conversionCoefficientNo"
                                       autocomplete="off" class="layui-input">
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="layui-inline">
                            <label class="layui-form-label">生产企业：</label>
                            <div class="layui-input-inline">
                                <input type="tel" name="nameOfManufacturer" id="nameOfManufacturer"
                                       lay-verify="nameOfManufacturer"
                                       autocomplete="off" class="layui-input">
                            </div>
                        </div>
                    </td>
                    <td>
                        <div class="layui-inline">
                            <label class="layui-form-label">商品名：</label>
                            <div class="layui-input-inline">
                                <input type="text" name="tradeName" id="tradeName" lay-verify="tradeName"
                                       autocomplete="off"
                                       class="layui-input">
                            </div>
                        </div>
                    </td>
                    <td>
                        <div class="layui-inline">
                            <label class="layui-form-label">质量层次：</label>
                            <div class="layui-input-inline">
                                <select name="qualityLevel" id="qualityLevel" lay-verify="qualityLevel" lay-search="">
                                    <option value="">全部</option>
                                    <option value="1">国家一类新药</option>
                                    <option value="2">国家科学进步奖</option>
                                    <option value="3">专利</option>
                                    <option value="3">原研</option>
                                    <option value="3">单独定价</option>
                                    <option value="3">优质优价</option>
                                    <option value="3">GMP</option>
                                </select>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td align="center">
                        <button class="btn btn-default" id="find">查询</button>
                    </td>
                    <td>
                        <div class="layui-inline">
                            <label class="layui-form-label">药品类别：</label>
                            <div class="layui-input-inline">
                                <select name="drupCategory" id="drupCategory" lay-verify="drupCategory" lay-search="">
                                    <option value="">全部</option>
                                    <option value="1">layer</option>
                                    <option value="2">form</option>
                                    <option value="3">layim</option>
                                </select>
                            </div>
                        </div>
                    </td>
                    <td align="center">
                        <button class="layui-btn layui-btn-sm">导出</button>
                    </td>
                </tbody>
            </table>
        </form>
    </div>
</div>-->
</body>
<script>

    layui.use(['table', 'form', 'upload'], function () {
        var table = layui.table;
        var tablesIns = table.render({
            elem: '#TestAll'
            , id: 'listReload'
            , toolbar: 'default'
            , page: true
            , url: '/queryPurchaseOrder/findAllPurchaseOrder/'
            , cols: [[
                {type: 'checkbox', fixed: 'left'}
                , {field: 'nameOfHospital',templet: '<div>{{d.himf.nameOfHospital}}</div>', title: '采购医院'}
                , {field: 'purchaseOrderNumber', title: '采购单编号',}
                , {field: 'nameOfPurchaseOrder', title: '采购单名称'}
                , {field: 'purchaseOrderStatus', title: '采购状态',}
                /*,{field:'experience', title: '开始采购时间',}
                        ,{field:'experience', title: '结束采购时间',}*/
                , {field: 'orderCreationTime',templet:'<div>{{ layui.util.toDateString(d.orderCreationTime, "yyyy-MM-dd HH:mm:ss") }}</div>', title: '建单时间',}
                , {field: 'submissionTime',templet:'<div>{{ layui.util.toDateString(d.submissionTime, "yyyy-MM-dd HH:mm:ss") }}</div>', title: '提交时间',}
                , {field: 'auditTime',templet:'<div>{{ layui.util.toDateString(d.auditTime, "yyyy-MM-dd HH:mm:ss") }}</div>', title: '审核时间',}
                , {
                    field: 'purchaseVolume',
                    templet: '<div>{{d.pod.purchaseVolume}}</div>',
                    title: '采购量',
                }
                , {
                    field: 'purchaseAmount',
                    templet: '<div>{{d.pod.purchaseAmount}}</div>',
                    title: '采购金额'
                }
                , {
                    field: 'storageVolume',
                    templet: '<div>{{d.pod.storageVolume}}</div>',
                    title: '入库量',
                }
                , {
                    field: 'warehousingAmount',
                    templet: '<div>{{d.pod.warehousingAmount}}</div>',
                    title: '入库金额'
                }
                , {
                    field: 'returnQuantity',
                    templet: '<div>{{d.pod.returnQuantity}}</div>',
                    title: '退货量'
                }
            ]]

        });
        $("#find").on("click", function () {
            var purchaseOrderNumber = $("[name=purchaseOrderNumber]").val();
            var nameOfPurchaseOrder = $("[name=nameOfPurchaseOrder]").val();
            var nameOfHospital = $("[name=nameOfHospital]").val();
            var purchaseOrderStatus = $("[name=purchaseOrderStatus]").val();
            var nameOfEnterprise = $("[name=nameOfEnterprise]").val();
            var serialUmber = $("[name=serialUmber]").val();
            var dosageForm = $("[name=dosageForm]").val();
            var dosageFormDrug = $("[name=dosageFormDrug]").val();
            var specifications = $("[name=specifications]").val();
            var company = $("[name=company]").val();
            var conversionCoefficientNo = $("[name=conversionCoefficientNo]").val();
            var nameOfManufacturer = $("[name=nameOfManufacturer]").val();
            var tradeName = $("[name=tradeName]").val();
            var qualityLevel = $("[name=qualityLevel]").val();
            var drugCategory = $("[name=drugCategory]").val();
            tablesIns.reload({
                where: {
                    purchaseOrderNumber: purchaseOrderNumber,
                    nameOfPurchaseOrder: nameOfPurchaseOrder,
                    nameOfHospital: nameOfHospital,
                    purchaseOrderStatus: purchaseOrderStatus,
                    nameOfEnterprise: nameOfEnterprise,
                    serialUmber: serialUmber,
                    dosageForm: dosageForm,
                    dosageFormDrug: dosageFormDrug,
                    specifications: specifications,
                    company: company,
                    conversionCoefficientNo: conversionCoefficientNo,
                    nameOfManufacturer: nameOfManufacturer,
                    tradeName: tradeName,
                    qualityLevel: qualityLevel,
                    drugCategory: drugCategory
                }
                , page: {
                    curr: 1
                }
            });
        })

    });


</script>
</html>